import type { NextPage } from "next";
import Head from "next/head";
import Image from "next/image";
import styles from "../../styles/Home.module.scss";
import MyButton from "../../components/myButton";
import Tab from "../../components/Tab";
import UserTabListItem from "../../components/UserTabListItem";
import BoardTabListItem from "../../components/BoardTabListItem";
import { useRouter } from "next/router";
import { route } from "next/dist/server/router";
import useGetBoards from "../../hooks/useGetBoards";
import useGetUsers from "../../hooks/useGetUsers";

const Home: NextPage = () => {
	const {
		data: boardData,
		isLoading: boardIsLoading,
		isError: boardIsError,
		isSuccess: boardIsSuccess,
	} = useGetBoards({});

	const {
		data: userData,
		isLoading: userIsLoading,
		isError: userIsError,
		isSuccess: userIsSuccess,
	} = useGetUsers({});
	console.log(userData);
	return (
		<div className={styles.container}>
			<Head>
				<title>Bi-Connect</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			<Tab
				tabs={{
					Users: {
						data:
							!userIsLoading && userIsSuccess ? userData.data.getUsers : null,
						// data: [
						// 	{ username: "ichang1", email: "ichang1@haverford.edu" },
						// 	{ username: "jhan1", email: "jhan1@brynmawr.edu" },
						// ],
						renderComponent: UserTabListItem,
						createButtonOnClick: () => {
							console.log("creating user");
						},
					},
					Boards: {
						data:
							!boardIsLoading && boardIsSuccess
								? boardData.data.getBoards
								: null,
						// data: [
						// 	{
						// 		boardname: "Bi-Co Confession",
						// 		boardDescription: "This is a page for confessions.",
						// 	},
						// 	{
						// 		boardname: "Bi-Co Badminton",
						// 		boardDescription: "This is a page for badminton club.",
						// 	},
						// ],
						renderComponent: BoardTabListItem,
						createButtonOnClick: () => {
							console.log("creating board");
						},
					},
				}}
			/>
		</div>
	);
};

export default Home;
